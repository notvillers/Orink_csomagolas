{% extends 'base.html' %}

{% block head %}
    <title>
        {{ invoice["bizonylatszam"] }}
    </title>
{% endblock %}

{% block body %}
    <a href="/">
        <img alt="Static Badge" class="logo" src="https://img.shields.io/badge/Orink_Hungary_Kft.-Göngyöleg-%2390c7ff?style=for-the-badge&labelColor=white&logo=data:image/svg%2bxml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyBpZD0iUsOpdGVnXzEiIGRhdGEtbmFtZT0iUsOpdGVnIDEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgdmVyc2lvbj0iMS4xIiB2aWV3Qm94PSIwIDAgMTAwMCAxMDAwIj4KICA8ZGVmcz4KICAgIDxzdHlsZT4KICAgICAgLmNscy0xIHsKICAgICAgICBmaWxsOiAjMDA1ZGE4OwogICAgICB9CgogICAgICAuY2xzLTEsIC5jbHMtMiB7CiAgICAgICAgZmlsbC1ydWxlOiBldmVub2RkOwogICAgICAgIHN0cm9rZS13aWR0aDogMHB4OwogICAgICB9CgogICAgICAuY2xzLTIgewogICAgICAgIGZpbGw6ICMzMzI0ODI7CiAgICAgIH0KICAgIDwvc3R5bGU+CiAgPC9kZWZzPgogIDxwYXRoIGNsYXNzPSJjbHMtMSIgZD0iTTg3LjEsNTk3YzguMSwxMy41LDExLjMsNTEsMTIuMiw2OSwxLjUsMzEuNy0yLjUsNDMuMy05LDcwLjYsMTAuMiw5LjUsNDQuMiwyNi4zLDYwLjEsMzMuMiw3MS44LDMxLjEsMTUzLjMsNDguNywyMzIuOSwzNy45LDgwLjItMTAuOCwyMzIuOS03Mi40LDE4NC42LTE2Ni44LTIuNCwxOCwuOSwyNS4yLTYuOSw0My0xNS4xLDM0LjgtNDMuOCw1MC04MS4xLDYzLjQtMTMxLjQsNDctMjU3LjctMTIuNy0zNDYuOS0xMDMuMS00LjQtNC40LTcuNC04LjEtMTEuNS0xMi43bC0zNC40LTM4djMuNFoiLz4KICA8cGF0aCBjbGFzcz0iY2xzLTEiIGQ9Ik00MzMuMywzNTdjLS40LTYxLjMsMzUtODYuNCw4OC4xLTEwNSwxMDQuNS0zNi41LDIxMy4zLTcuMSwyOTUuMiw1OCw1LjYsNC41LDguMSw2LjUsMTMuMywxMC43LDE0LjMsMTEuNSwzNS4xLDMyLjUsNDkuOCw0Ni42LDQuNSw0LjMsNi45LDguNywxMSwxMy4ybDExLjMsMTIuOGMzLjEsMy43LDcuNyw5LjcsMTAuOSwxMi4xLS44LTEyLjEtOS40LTM3LTExLjEtNzAuMi0xLjctMzMuMSwyLjItNDMuOSw4LjktNzEuOS03LjUtOC41LTQ1LTI2LjYtNTgtMzIuNi0yMS4zLTkuNy00NC0xOC42LTY4LTI0LjktMTA2LjgtMjguMS0yMDYuMy0yMy40LTMwMS41LDMzLjYtMzcuOSwyMi43LTcwLjgsNjMtNTQuNiwxMDlsMy45LDcuM2MuMi4zLjYuOC45LDEuMSIvPgogIDxwYXRoIGNsYXNzPSJjbHMtMiIgZD0iTTg5LjIsMjgwLjZjMCwxNTIuNiw2Ni44LDI5Mi43LDE5MS40LDM2Mi40LDE5LjMsMTAuOCw0NC45LDIxLjUsNzEuNiwyMC4yLDI2LjYtMS4zLDUwLjgtMTcuNSw1OC42LTMzLjctMTguMSw4LjUtMjYuMiwxNS45LTUxLjgsMTUuOS01NywwLTExNC43LTY0LjItMTQyLjctMTEwLjItMTAuNy0xNy41LTE5LjYtMzcuNy0yNi43LTU5LjMtMTUuMy00Ni41LTE4LjUtMTAwLjYtMTItMTUxLjksOC45LTcwLjUsMjAuMi04MC4yLDM1LjItMTM0LjktMjAuMywxNC4zLTQxLjYsNDUuNS05NC40LDY1LjktMjIuNyw4LjgtMjcuMSwzLjEtMjguOCwxMS45LS4yLDEuMy0uNCwxMS42LS40LDEzLjYiLz4KICA8cGF0aCBjbGFzcz0iY2xzLTEiIGQ9Ik01MDAsOTc0LjFoMS43YzMuMy0zLjIsNTUuOS0zMC45LDg2LTU4LjcsNC45LTQuNiw4LjItNi44LDEzLjItMTEsMTEuOS0xMC4xLDQ2LjYtNDkuNiw1Ny4xLTYzLjQsNDUuNS01OS45LDc1LjktMTMwLjgsNzYuMi0yMTIuOS4yLTUwLjMtMTQtMTEyLjYtNzUuNy0xMTUuNywxMy4yLDEzLjgsNjkuNCwyNS42LDQ0LjEsMTM5LjMtMjEuNCw5Ni40LTkxLjgsMTcwLTE3Ny45LDIwOS4xLTczLjksMzMuNi04OC4zLDI2LjUtMTQ5LjQsNDMuNSw1Ni40LDE4LDk2LjksMzMuNiwxMjQuOCw2OS43Ii8+CiAgPHBhdGggY2xhc3M9ImNscy0yIiBkPSJNNTkwLDM3MC40YzIxLjgtMTAsMzcuOC0yMi45LDc0LjItMTMuMSw1NC40LDE0LjYsMTE0LjgsODUuNiwxMzguMiwxNDIuNCwyMC42LDQ5LjksMjcuOCwxMDIuMiwyMi41LDE2MS4yLTUuMiw1OC44LTIwLjgsOTkuMS0zNi45LDE0OS42LDYuMi00LjEsMjkuMy0yNy45LDUzLjMtNDQsMzMtMjIsMzYuNC0xOS41LDY5LjYtMjkuOSw2LjgtMTIwLjYtMzYuNC0yMjcuOS05Ni4yLTMwMi42bC0zNS41LTM1LjFjLTE5LTE0LjgtMzEuNi0yNy4xLTU0LjctMzkuOS0zMS44LTE3LjctNzMuMi0zMy44LTExMC40LTEyLjQtOC4zLDQuOC0yMC44LDE2LjEtMjQuMiwyMy45Ii8+CiAgPHBhdGggY2xhc3M9ImNscy0xIiBkPSJNNTAxLjcsMjUuOWgtMy40Yy01LjcsNS01My42LDI5LjUtODYsNTguNmwtMzcuMiwzNWMtNC40LDQuNC02LjcsOC41LTExLjEsMTMtNTcuOCw2MC4zLTk2LDE1MS43LTk3LjYsMjM5LjMtLjUsMjguMywzLjcsNTguMywxNi45LDc5LjEsMTEuMiwxNy43LDI5LjIsMzUuNCw2MC4zLDM2LjMtMTQuMS0xMC44LTYuMy0uNC0yNy41LTIwLjktOC4xLTcuOS0xMy45LTE2LjUtMTguNy0yOS41LTIyLTYwLjIsMjEuNC0xNzAuOSw2NS43LTIxNS42LDQwLjUtNDAuOCw1OC45LTU1LjEsMTEyLjQtODIsMzEuMS0xNS42LDczLjItMjgsMTA4LjctMzUuOCwxMS40LTIuNSwzMS44LTQuOSw0MS4xLTguMS0zOS40LTEzLjQtNjUuOC0yMC4yLTk5LjctNDUuMi02LjItNC42LTIxLjItMTcuNi0yNC4xLTI0LjIiLz4KPC9zdmc+">
    </a>
    <br>
    <div class="invoice_data">
        <hr>
        <h1>{{ invoice["bizonylatszam"] }}</h1>
        <hr>
        <div class="invoice_info">
            <p>Partner: <b>{{ invoice["partnerkod"] }}</b> {{ invoice["partnernev"] }}</p>
            <p>Bizonylat dátum: <b>{{ invoice["bizdatum"] }}</b> (Tervezett szállítási dátum: {{ invoice["tervszalldatum"] }})</p>
            {% if invoice["cegnev"] %}
                <p>Végfelhasználó: <b>{{ invoice["cegnev"] }}</b></p>
            {% endif %}
            <p>Cím: <b>{{ invoice["irsz"]}} {{ invoice["varos"] }}, {{ invoice["utca"] }}</b></p>
            <p>Tömeg: <b>{{ invoice["tomeg"]|round|int }} kg</b></p>
            <p>Mennyiség: <b> {{ invoice["menny"]|round(2) }} {{ invoice["me"] }}</b></p>
        </div>
        <form action="/invoice/{{ invoice['bizonylatszam'] }}", method="post">
            {% if eur_pallet %}
                {% if not invoice_pallet.invoiced %}
                    <input type="number", placeholder="EUR", autofocus, name="eur_pallet", value="{{ eur_pallet }}">
                {% else %}
                    <input type="number", placeholder="EUR", autofocus, name="eur_pallet", value="{{ eur_pallet }}", disabled>
                {% endif %} 
            {% else %}
                {% if not invoice_pallet.invoiced %}
                    <input type="number", placeholder="EUR", autofocus, name="eur_pallet">
                {% else %}
                    <input type="number", placeholder="EUR", autofocus, name="eur_pallet" disabled>
                {% endif %}
            {% endif %}
            {% if ow_pallet %}
                {% if not invoice_pallet.invoiced %}
                    <input type="number", placeholder="Egyutas", name="ow_pallet", value="{{ ow_pallet }}">
                {% else %}
                    <input type="number", placeholder="Egyutas", name="ow_pallet", value="{{ ow_pallet }}" disabled>
                {% endif %}
            {% else %}
                {% if not invoice_pallet.invoiced %}
                    <input type="number", placeholder="Egyutas", name="ow_pallet">
                {% else %}
                    <input type="number", placeholder="Egyutas", name="ow_pallet" disabled>
                {% endif %}
            {% endif %}
            {% if half_ow %}
                {% if not invoice_pallet.invoiced %}
                    <input type="number", placeholder="Fél", name="half_ow", value="{{ half_ow }}">
                {% else %}
                    <input type="number", placeholder="Fél", name="half_ow", value="{{ half_ow }}" disabled>
                {% endif %}
            {% else %}
                {% if not invoice_pallet.invoiced %}
                    <input type="number", placeholder="Fél", name="half_ow">
                {% else %}
                    <input type="number", placeholder="Fél", name="half_ow" disabled>
                {% endif %}
            {% endif %}
                {% if not invoice_pallet.invoiced %}
                    <input type="submit", class="insert_pallett_button", value="Raklap rögzítés">
                {% else %}
                    <input type="submit", class="insert_pallett_button", value="Raklap rögzítés" disabled>
                {% endif %}
            {% if invoice_pallet.invoiced %}
                <p>Raklapok számlázva</p>
            {% endif %}
        </form>
    </div>
    {% if eur_pallet or ow_pallet or half_ow %}
        <br>
        <div class="invoice_dl">
            <button class="invoice_dl_button", onclick="downloadInvoice('{{ invoice['bizonylatszam'] }}')">
                PDF letöltése
            </button>
        </div>
        <div class="invoiced">
            {% if not invoice_pallet.invoiced %}
                <button class="invoiced_button", onclick="invoicePallets('{{ invoice['bizonylatszam'] }}')">
                    Kiszámlázás
                </button>
            {% else %}
                <button class="invoiced_button", onclick="invoicePallets('{{ invoice['bizonylatszam'] }}')" disabled>
                    Kiszámlázott
                </button>
            {% endif %}
        </div>
{% endif %}
{% endblock %}